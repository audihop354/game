from turtle import width
import pygame
from pygame.locals import *
import math
import random
import time

pygame.init()

#set color
green = (76,208,56)
gray = (100,100,100)
red = (200,0,0)
yellow = (255,232,0)
white = (255,255,255)

#set screen
WIDTH=1000
HEIGHT=600  
screen = pygame.display.set_mode((WIDTH,HEIGHT), pygame.RESIZABLE)

#set caption and icon
pygame.display.set_caption("Dua xe ca do")
icon = pygame.image.load('car.png')
pygame.display.set_icon(icon)

#Background
background = pygame.image.load('background-levels-city.png')
background = pygame.transform.scale(background,(WIDTH,HEIGHT))

#setting destination
des = int(WIDTH/1.25)

#Define Classes
class Game:
    def __init__(self):
        '''Initialize the game'''
        pass

    def update(self):
        """Update the game"""
        pass

    def draw(self):
        """Draw the Hud and other information to display"""
        pass

    def car(self):
        """Car"""
        pass

    def check_collisions(self):
        """Check collisions between car and item"""
        pass

    def check_who_win(self):
        """Check who is the winner"""
        pass

    def start_new_game(self):
        """Like the name"""
        pass

    def pause_game(self):
        pass

class Car(pygame.sprite.Sprite):
    def __init__(self, image, x:float, y:float, velocity:float):
        '''Initialize the game'''
        super().__init__()
        self.image = pygame.image.load(image)
        self.image = pygame.transform.scale(self.image,(WIDTH/12.5,HEIGHT/12))
        self.rect = self.image.get_rect()
        self.rect.topleft = (x, y)
        self.velocity = velocity
        self.position = x

    def update(self):
        self.move()
        self.check_collisions()

    def move(self):
        """Move the car"""
        if self.rect.x <= des:
            self.position += self.velocity
            self.rect.x = self.position

    def check_collisions(self):
        pass
        

class Item(pygame.sprite.Sprite):
    def __init__(self):
        '''Initialize the game'''
        pass
    def update(self):
        pass

#Create Car Group
car_group = pygame.sprite.Group()

#setting CAR1
w = int(WIDTH/8)
h = int(HEIGHT/1.65)
vel = random.uniform(1,1.5)
player1_car = Car('0_red_formulaOne.png', w, h, vel)
car_group.add(player1_car)

#setting CAR2
w = int(WIDTH/9)
h = int(HEIGHT/1.47)
vel = random.uniform(1,1.5)
player2_car = Car('0_yellow_formulaOne.png', w, h, vel)
car_group.add(player2_car)

#setting CAR3
w = int(WIDTH/9)
h = int(HEIGHT/1.31)
vel = random.uniform(1,1.5)
player3_car = Car('0_blue_formulaOne.png', w, h, vel)
car_group.add(player3_car)

#setting CAR4
w = int(WIDTH/9)
h = int(HEIGHT/1.19)
vel = random.uniform(1,1.5)
player4_car = Car('0_pink_formulaOne.png', w, h, vel)
car_group.add(player4_car)

#setting CAR5
w = int(WIDTH/9)
h = int(HEIGHT/1.1)
vel = random.uniform(1,1.5)
player5_car = Car('0_white_formulaOne.png', w, h, vel)
car_group.add(player5_car)

    
#game Loop
clock = pygame.time.Clock()
FPS = 60

running=True
while running:    

    clock.tick(FPS) 

    screen.blit(background,(0,0))

    #draw 5 car
    car_group.draw(screen)
    car_group.update()
    
    for event in pygame.event.get():
        if event.type == pygame.QUIT:
            running = False
            pygame.quit()
            exit()

        #resize display
        if event.type == VIDEORESIZE:
            
            screen = pygame.display.set_mode((event.w, event.h), pygame.RESIZABLE)
            background = pygame.transform.scale(background,(event.w,event.h))

    #Update the display and tick the clock
    pygame.display.update()

pygame.quit()